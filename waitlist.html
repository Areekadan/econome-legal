<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>EconoMe ‚Äî Join the Waitlist</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Join the EconoMe waitlist for early access."
    />

    <!-- Favicons -->
    <link rel="icon" href="/favicon.ico" sizes="any" />
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Base + waitlist styles -->
    <link rel="stylesheet" href="styles/base.css" />
    <link rel="stylesheet" href="styles/header.css" />
    <link rel="stylesheet" href="styles/waitlist.css" />
  </head>

  <body>
    <div class="page">
      <div class="shell">
        <!-- Header (matches index) -->
        <div class="shell-header-wrap">
          <header>
            <a
              class="brand brand-link"
              href="index.html"
              aria-label="EconoMe home"
            >
              <div class="brand-mark"><span>ƒì</span></div>
              <div class="brand-text">
                <div class="brand-name">EconoMe</div>
                <div class="brand-tagline">Simple budgeting for Canadians</div>
              </div>
            </a>

            <nav class="header-nav">
              <span class="pill">
                <span class="pill-dot"></span>
                Early access
              </span>

              <div class="nav-links">
                <a href="index.html#features">How it works</a>
                <a href="index.html#screens">Screens</a>
                <a href="index.html#why">Why EconoMe</a>
              </div>

              <a href="index.html" class="nav-store-btn">
                <span class="nav-store-icon">‚Üê</span>
                <span class="nav-store-text">
                  <span class="nav-store-eyebrow">Back to</span>
                  <span class="nav-store-label">HOME</span>
                </span>
              </a>
            </nav>
          </header>
        </div>

        <main>
          <section class="waitlist-hero">
            <div class="waitlist-hero-card">
              <div class="waitlist-hero-inner">
                <!-- Left: copy -->
                <div class="waitlist-copy">
                  <div class="waitlist-kicker">
                    <span class="waitlist-kicker-dot"></span>
                    103 people already on the waitlist
                  </div>

                  <h1 class="waitlist-title">
                    Get early access to a budgeting app built on simplicity.
                  </h1>

                  <p class="waitlist-sub">
                    Join the first wave of people using EconoMe. We'll email you
                    when access opens ‚Äî plus a launch-only discount.
                  </p>

                  <form
                    class="waitlist-form"
                    action="https://formspree.io/f/mpqqzaog"
                    method="POST"
                  >
                    <!-- Honeypot (spam bots fill this, humans never see it) -->
                    <input
                      type="text"
                      name="_gotcha"
                      class="hp-field"
                      tabindex="-1"
                      autocomplete="off"
                      aria-hidden="true"
                      aria-label="do not fill"
                    />

                    <input type="hidden" id="ts" name="ts" />

                    <div class="waitlist-field">
                      <label class="waitlist-label" for="email">Email</label>
                      <input
                        id="email"
                        type="email"
                        name="email"
                        placeholder="you@email.com"
                        autocomplete="email"
                        required
                      />
                    </div>

                    <button class="waitlist-btn" type="submit">
                      Join the waitlist
                    </button>

                    <input
                      type="hidden"
                      name="source"
                      value="econome-waitlist"
                    />
                  </form>

                  <div class="waitlist-trust">
                    <span class="waitlist-check">‚úì</span> No spam.
                    <span class="waitlist-sep">¬∑</span>
                    <span class="waitlist-check">‚úì</span> One email when access
                    opens.
                    <span class="waitlist-sep">¬∑</span>
                    <span class="waitlist-check">‚úì</span> Unsubscribe anytime.
                  </div>

                  <div class="waitlist-perks">
                    <div class="waitlist-perk">
                      <div class="waitlist-perk-icon">‚ö°</div>
                      <div>
                        <div class="waitlist-perk-title">Early access</div>
                        <div class="waitlist-perk-sub">
                          Be first in line when invites go out.
                        </div>
                      </div>
                    </div>

                    <div class="waitlist-perk">
                      <div class="waitlist-perk-icon">üè∑Ô∏è</div>
                      <div>
                        <div class="waitlist-perk-title">Launch discount</div>
                        <div class="waitlist-perk-sub">
                          Waitlist members get better pricing.
                        </div>
                      </div>
                    </div>

                    <div class="waitlist-perk">
                      <div class="waitlist-perk-icon">üß†</div>
                      <div>
                        <div class="waitlist-perk-title">
                          Built with feedback
                        </div>
                        <div class="waitlist-perk-sub">
                          Help shape the next features.
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Right: visual -->
                <div class="waitlist-visual" aria-hidden="true">
                  <div class="waitlist-device">
                    <img src="assets/screenshots/hero.png" alt="" />
                  </div>
                  <div class="waitlist-glow"></div>
                </div>
              </div>
            </div>

            <div class="waitlist-footer-links">
              <a href="privacy-policy.html">Privacy Policy</a>
              <span>¬∑</span>
              <a href="terms.html">Terms of Service</a>
              <span>¬∑</span>
              <a href="mailto:support@economeinc.com">support@economeinc.com</a>
            </div>
          </section>
        </main>
      </div>
    </div>
    <!-- Intercept Formspree submit and redirect -->
    <script>
      const form = document.querySelector(".waitlist-form");

      if (form) {
        const button = form.querySelector('button[type="submit"]');
        let isSubmitting = false;

        // timestamp for spam protection
        document.getElementById("ts").value = Date.now().toString();

        form.addEventListener("submit", async (e) => {
          e.preventDefault();
          if (isSubmitting) return;
          isSubmitting = true;

          if (button) {
            button.disabled = true;
            button.textContent = "Joining...";
          }

          const data = new FormData(form);

          // simple bot check (too fast = bot)
          const ts = Number(data.get("ts"));
          if (!ts || Date.now() - ts < 1200) {
            alert("Please try again.");
            isSubmitting = false;
            button.disabled = false;
            button.textContent = "Join the waitlist";
            return;
          }

          try {
            const response = await fetch(form.action, {
              method: "POST",
              body: data,
              headers: { Accept: "application/json" },
            });

            if (response.ok) {
              form.reset(); // IMPORTANT
              window.location.href = "/thanks.html";
            } else {
              throw new Error("Submission failed");
            }
          } catch (err) {
            alert("Something went wrong. Please try again.");
            isSubmitting = false;
            if (button) {
              button.disabled = false;
              button.textContent = "Join the waitlist";
            }
          }
        });
      }
    </script>
  </body>
</html>
